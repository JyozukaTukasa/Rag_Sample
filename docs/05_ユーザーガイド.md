# ユーザーガイド - RAG人事スキル検索チャットボット

## 🎯 アプリケーションの目的

このアプリケーションは、会社の人事データを読み込み、従業員のスキルや経験に関する質問に自然言語で回答するチャットボットです。

### できること
- ✅ Excel/CSVファイルから人事データを読み込み
- ✅ 自然言語での質問（「Pythonが得意な人は？」）
- ✅ 高度な検索（名前、部署、スキル、資格）
- ✅ 集計機能（「開発部に所属している人は何人ですか？」）
- ✅ チャット履歴の保存

## 🚀 はじめに

### 1. アプリケーションの起動
1. ブラウザで `http://localhost:3000` にアクセス
2. アプリケーションが表示されることを確認

### 2. 画面の構成
```
┌─────────────────────────────────────────┐
│ ファイルアップロード                    │
├─────────────────────────────────────────┤
│ 検索例          │ チャット画面          │
│                │                       │
│ • Pythonが得意 │ 質問を入力...         │
│ • 開発部に所属 │                       │
│ • AWSの資格    │ 回答が表示される      │
└─────────────────────────────────────────┘
```

## 📁 データファイルの準備

### 対応ファイル形式
- **Excel**: `.xlsx`, `.xls`
- **CSV**: `.csv`

### データ構造
以下の列を含むファイルを準備してください：

| 列名 | 説明 | 例 |
|------|------|-----|
| 氏名 | 従業員の名前 | 田中太郎 |
| 部署 | 所属部署 | 開発部 |
| スキル | 得意な技術（カンマ区切り） | Python,JavaScript,React |
| 資格 | 保有資格（カンマ区切り） | 基本情報技術者,AWS認定 |
| 経験年数 | 開発経験年数 | 3年 |
| 自己PR | 自己紹介 | 新しい技術の習得が好き |

### サンプルデータ例
```csv
氏名,部署,スキル,資格,経験年数,自己PR
田中太郎,開発部,"Python,JavaScript,React","基本情報技術者,AWS認定",3年,新しい技術の習得が好き
佐藤花子,営業部,"Excel,PowerPoint","簿記検定",2年,顧客とのコミュニケーションが得意
鈴木一郎,開発部,"Java,Spring Boot","応用情報技術者",5年,システム設計から実装まで一貫して対応
```

## 📤 ファイルのアップロード

### 手順
1. **ファイル選択**: 「ファイルを選択」ボタンをクリック
2. **ファイル選択**: 準備したExcel/CSVファイルを選択
3. **アップロード確認**: ファイル名と読み込み状況が表示される
4. **完了**: 「データが正常に読み込まれました」と表示されれば完了

### 注意事項
- ファイルサイズは5MB以下
- 文字エンコーディングはUTF-8推奨
- ヘッダー行（列名）は必須

## 🔍 検索・質問の方法

### 方法1: 検索例ボタンの使用
画面左側の検索例ボタンをクリック：
- 「Pythonが得意な人はいますか？」
- 「開発部に所属している人」
- 「AWSの資格を持っている人」

### 方法2: チャットでの直接入力
チャット画面の入力欄に自然な質問を入力：

#### 基本的な質問例
```
Q: Pythonが得意な人はいますか？
A: 田中さんがPythonを得意としています。
   スキル: Python, JavaScript, React
   部署: 開発部
   経験年数: 3年

Q: 開発部に所属している人は何人ですか？
A: 開発部に所属している人は2名います。
   - 田中さん（Python, JavaScript）
   - 鈴木さん（Java, Spring Boot）
```

#### 高度な質問例
```
Q: Web系のエンジニアはいますか？
A: はい、田中さんがWeb系のエンジニアです。
   ReactとJavaScriptを得意としています。

Q: 経験年数が3年以上の人は？
A: 鈴木さんが5年の経験があります。
   JavaとSpring Bootを専門としています。

Q: 田中さんはどの部署にいますか？
A: 田中さんは開発部に所属しています。
```

## 💬 チャット機能の使い方

### チャット画面の操作
1. **質問入力**: 下部のテキストボックスに質問を入力
2. **送信**: Enterキーまたは送信ボタンをクリック
3. **回答表示**: AIからの回答がチャット画面に表示
4. **履歴保存**: 質問と回答が自動的に保存される

### チャット履歴の管理
- **履歴表示**: 過去の質問と回答が時系列で表示
- **履歴クリア**: 「履歴をクリア」ボタンで履歴を削除
- **データリセット**: 「データをリセット」で全データを削除

## 🎯 質問のコツ

### 効果的な質問例

#### 1. スキル検索
```
✅ 良い例: 「Pythonが得意な人は？」
✅ 良い例: 「JavaScriptを使える人はいますか？」
❌ 悪い例: 「プログラミング」
```

#### 2. 部署検索
```
✅ 良い例: 「開発部に所属している人」
✅ 良い例: 「営業部の人は？」
❌ 悪い例: 「開発」
```

#### 3. 集計質問
```
✅ 良い例: 「開発部に所属している人は何人ですか？」
✅ 良い例: 「AWSの資格を持っている人は何人？」
❌ 悪い例: 「何人」
```

#### 4. 個人検索
```
✅ 良い例: 「田中さんはどの部署にいますか？」
✅ 良い例: 「佐藤さんのスキルは？」
❌ 悪い例: 「田中」
```

## 🔧 トラブルシューティング

### よくある問題と解決方法

#### 1. ファイルがアップロードできない
**症状**: ファイル選択後、エラーメッセージが表示される
**原因**: ファイル形式やサイズの問題
**解決方法**:
- ファイル形式を確認（.xlsx, .xls, .csv）
- ファイルサイズを5MB以下に調整
- 文字エンコーディングをUTF-8に変更

#### 2. 検索結果が表示されない
**症状**: 質問を送信しても回答が表示されない
**原因**: データが読み込まれていない、またはAPIエラー
**解決方法**:
- ファイルが正常にアップロードされているか確認
- ブラウザのコンソール（F12）でエラーを確認
- ページを再読み込みして再試行

#### 3. 検索結果が不正確
**症状**: 期待した結果と異なる回答が表示される
**原因**: データの形式や内容の問題
**解決方法**:
- データファイルの列名と内容を確認
- スキルや資格の表記を統一
- より具体的な質問を試す

#### 4. 応答が遅い
**症状**: 質問送信後、回答まで時間がかかる
**原因**: 大量データまたはネットワーク問題
**解決方法**:
- データ量を減らす
- ネットワーク接続を確認
- しばらく待ってから再試行

## 📊 データの管理

### ローカルストレージ
- アップロードしたデータはブラウザのローカルストレージに保存
- ページを閉じてもデータは保持される
- ブラウザのデータを削除するとデータも消去される

### データのリセット
1. 「データをリセット」ボタンをクリック
2. 確認ダイアログで「OK」をクリック
3. すべてのデータ（人事データ、チャット履歴）が削除される

## 🎨 画面のカスタマイズ

### 検索例の追加
開発者が `src/components/SearchExamples.tsx` を編集することで、検索例を追加できます。

### データ構造の変更
開発者が `src/types/index.ts` の `PersonInfo` インターフェースを編集することで、データ構造を変更できます。

## 📞 サポート

### 技術的な問題
- GitHubのIssuesで報告
- エラーメッセージと再現手順を記載

### 機能の要望
- GitHubのIssuesで提案
- 具体的な使用例を記載

### ドキュメント
- `README.md`: アプリケーション概要
- `docs/04_RAG技術詳細説明.md`: 技術的な詳細
- `docs/03_開発の流れ_実装記録.md`: 開発履歴

## 🔮 今後の機能予定

### 短期予定
- [ ] 複数ファイルの同時アップロード
- [ ] 検索結果のエクスポート機能
- [ ] より詳細な検索フィルター

### 中期予定
- [ ] データベース連携
- [ ] ユーザー認証機能
- [ ] データ可視化機能

### 長期予定
- [ ] 音声入力対応
- [ ] モバイルアプリ版
- [ ] 多言語対応

---

**このガイドは、アプリケーションを効果的に活用するための手助けを目的としています。** 